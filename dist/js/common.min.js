function preloader(){function i(i){i.style.opacity=1;var a=setInterval(function(){i.style.opacity=i.style.opacity-.05,i.style.opacity<=.05&&(clearInterval(a),t.style.display="none")},30)}var t=document.getElementById("hellopreloader_preload");setTimeout(function(){i(t),animTitle(".header_wrap h1","fadeInLeft",50)},3e3)}function animTitle(i,t,a){var n=$(i),e=n.html(),s=$.trim(e).split(""),o=s.length,r=0;n.text("");var l=setInterval(function(){if(o>r){var i='<span class="animated '+t+'">'+s[r]+"</span>";n.append(i),r++}else r=o,clearInterval(l)},a)}function advantages(){for(var i=$(".advantages ul li"),t=i.length,a=0;t>a;a++)i.eq(a).attr("data-num",a+1)}function scrollPage(){var i=$("menu ul li a, .but_down");i.on("click",function(){var i=$($(this).attr("data-id")).offset().top;$("body").animate({scrollTop:i},1e3)})}$(document).ready(function(){$(".header_wrap").height(main.windowHeight()),$("img, a").on("dragstart",function(i){i.preventDefault()});try{$.browserSelector(),$("html").hasClass("chrome")&&$.smoothScroll()}catch(i){}$(".button_down").on("click",function(){$("body").animate({scrollTop:$(window).height()},1200)}),$(".port_wrap span").click(function(){var i=$(this).parents(".wrap_prew").find(".prew"),t=$(this).attr("data-src"),a=$(this).attr("data-show");i.attr("id");i.attr("class","prew "+a),i.find("img").attr("src",t)}),$("#send input, #send textarea").on("focusin",function(){$(this).prev().css("marginTop","-35px")}).on("focusout",function(){return $(this).val()?!1:void $(this).prev().css("marginTop","0px")}),$("#contacts").hover(function(){$(this).find(".img_block").toggleClass("img_block_hover")}),$("#hhh").click(function(i){$(".first-sirkl").circleProgress({value:.96}).on("circle-animation-progress",function(i,t){$(this).find("strong").html(parseInt(96*t)+"<i>%</i>")})}),main.init()}),window.onload=function(){preloader()};var main={variables:{fixedMenu:$(".fixed_menu"),kino:$(".kino"),togBut:$(".toggle_but"),lampWrap:$(".lamp_wrap"),rotateBlock:$(".img_wrap"),scrolIdItem:$("nav ul li,menu ul li,.foot_menu li"),svgCircl:$(".circle-path"),rotateBlock:$(".title_block"),changeBg:$(".front_side"),polyLength:$("#skill").find("polygon, path"),flag:1,documentM:$("body"),elements:$("section"),elementsPort:$(".wrap_prew"),dataCount:$(".procent"),height:[],position:[],startAnim:[],stopAnim:[],portfolio:[],startAnimPort:[]},logoAnim:function(){function i(){t=setInterval(function(){a.toggleClass("logo-anim")},4e3)}var t,a=main.variables.fixedMenu.find(".logo"),n=a.next().find("span");i.call(),n.click(function(){var n=$(this).attr("data-menu");a.toggleClass("logo-anim"),a.hasClass("logo-anim")?clearInterval(t):i(),$("."+n).toggleClass("open_fixed")})},rotatePort:function(){var i=$("#contacts").width(),t=$("#contacts").outerHeight(),a=t/69;$("#contacts").mousemove(function(t){var n=$(this).offset(),e=t.pageX,s=t.pageY,e=e-Math.floor(i/2),s=s-n.top;$(this).find(".lamp_left .img_block").css({"-webkit-transform":"rotate("+s/a+"deg)"}),$(this).find(".lamp_right .img_block").css({"-webkit-transform":"rotate("+-s/a+"deg)"})})},toggleMnu:function(){this.variables.togBut.on("click",function(){var i=$("menu");$(this).hasClass("tog_mnu")?i.removeClass("z_menu"):setTimeout(function(){console.log(i),i.addClass("z_menu")},1e3),main.variables.lampWrap.toggleClass("lamp_wrap_active"),main.variables.togBut.toggleClass("tog_mnu"),$(this).parents("header").toggleClass("open_mnu"),main.variables.lampWrap.find("svg ellipse").fadeToggle(100)})},slider:{main:$("body"),Mblock:$("#sli-block"),itemWrap:$("#sli-block #sli-wrap"),item:$("#sli-block .sli-item"),count:0,pagination:[],navNext:'<span class="sli-next">&#8250</span>',navPrev:'<span class="sli-prew">&#8249</span>',winWidth:function(){return this.Mblock.parent().width()},itemWidth:function(i){i?this.item.width(Math.floor(this.winWidth()/i)):this.item.width(this.winWidth())},sliderWidth:function(){var i=this.item.length*this.winWidth();this.itemWrap.width(i)},addClass:function(){this.item.removeClass("sli-active"),this.item.eq(main.slider.count).addClass("sli-active"),$(".sli-pagination span").removeClass("sli-active"),$(".sli-pagination span").eq(main.slider.count).addClass("sli-active")},next:function(){this.count>this.item.length-2?this.count=0:++this.count,this.itemWrap.css({marginLeft:"-"+main.slider.item.width()*main.slider.count+"px"}),main.slider.addClass(),main.svgCircle(),main.defaulPos()},prew:function(){this.count<1?this.count=0:--this.count,this.itemWrap.css({marginLeft:"-"+main.slider.item.width()*main.slider.count+"px"}),main.slider.addClass(),main.svgCircle(),main.defaulPos()},paginActiv:function(i){var t=i.index();this.itemWrap.css({marginLeft:"-"+main.slider.item.width()*t+"px"}),this.count=t},display:function(){for(var i=0;i<this.item.length;i++)this.pagination.push("<span></span>");this.Mblock.append(this.navNext,this.navPrev,'<div class="sli-pagination">'+this.pagination.join("")+"</div>"),this.main.on("click",".sli-next",function(){main.randPosition(),setTimeout(function(){main.slider.next()},600)}),this.main.on("click",".sli-prew",function(){main.randPosition(),setTimeout(function(){main.slider.prew()},600)}),this.main.on("click",".sli-pagination span",function(){main.slider.paginActiv($(this)),main.slider.addClass(),main.svgCircle()}),this.addClass()},init:function(){this.sliderWidth(),this.itemWidth(),$(window).resize(function(){main.slider.sliderWidth(),main.slider.itemWidth()}),this.display()}},documentHeight:function(){return this.variables.documentM.height()},windowHeight:function(){return window.innerHeight},randPos:function(i,t){return Math.floor(Math.random()*(t-i+1))+i},numCounter:function(){var i=this.variables.dataCount,t=0;setInterval(function(){for(var a=0;a<i.length;a++){var n=i.eq(a).data("procent");n+2>t?(main.variables.dataCount.eq(a).text(t+"%"),t+=2):main.variables.dataCount.eq(a).text(n+"%")}},100)},svgCircle:function(){main.variables.svgCircl.parents(".sli-item").hasClass("sli-active")?(this.numCounter(),main.variables.svgCircl.parents(".leng_wrap").attr("id","circl")):main.variables.svgCircl.parents(".leng_wrap").attr("id","")},smoofScroll:function(){this.variables.scrolIdItem.on("click",function(){main.variables.togBut.click(),main.variables.smooffScroll=$(this).index();var i=main.variables.position[main.variables.smooffScroll-1];main.variables.documentM.animate({scrollTop:i},1200)})},createPosition:function(i){for(var t=0;t<i.length;t++){var a=i.eq(t),n=a.offset().top,e=(a.height(),n),s=n-this.windowHeight()/2;this.variables.startAnim.push(s),this.variables.stopAnim.push(e),this.variables.height.push(i.height()),this.variables.position.push(n)}this.smoofScroll()},createPositionPort:function(i){for(var t=0;t<i.length;t++){var a=i.eq(t),n=a.offset().top-this.windowHeight();this.variables.startAnimPort.push(n)}},randPosition:function(){for(var i=0;i<this.variables.polyLength.length;i++)this.variables.polyLength.eq(i).css({transition:"all 0.8s",transform:"translate("+this.randPos(-200,400)+"px,"+this.randPos(0,400)+"px)"})},defaulPos:function(){this.variables.polyLength.css({transform:"translate(0px,0px)"})},scrollBlock:function(i,t){var a=main.variables.startAnim[t]-main.variables.stopAnim[t],n=a/90,e=a/121;if(i>main.variables.startAnim[t]&&i<main.variables.stopAnim[t]){var s=i-main.variables.startAnim[t],o=1+Math.floor(s/n),r=255+Math.floor(s/e);this.variables.elements.eq(t).find(this.variables.rotateBlock).css({transform:"rotateX("+-o+"deg)"}),this.variables.elements.eq(t).find(this.variables.changeBg).css({backgroundColor:"rgb("+r+","+r+","+r+")"})}else i<main.variables.startAnim[t]&&this.variables.elements.eq(t).find(this.variables.rotateBlock).css({transform:"rotateX(0deg)"})},kino:function(i,t){var a=i-main.variables.startAnim[1];i>main.variables.startAnim[1]&&i<main.variables.stopAnim[2]&&main.variables.kino.css({backgroundPosition:-a+"px"})},init:function(){this.toggleMnu(),main.slider.init(),this.createPosition(main.variables.elements),main.createPositionPort(main.variables.elementsPort),main.rotatePort(),main.logoAnim(),$(document).scroll(function(){for(var i=$(document).scrollTop(),t=0;t<main.variables.startAnimPort.length;t++)i>main.variables.startAnimPort[t]?main.variables.elementsPort.eq(t).addClass("animated fadeInLeft"):main.variables.elementsPort.eq(t).removeClass("animated fadeInLeft");for(var t=0;t<main.variables.position.length;t++)main.kino(i,t),main.scrollBlock(i,t),i>main.variables.position[t]?main.variables.elements.eq(t).addClass("activeSection"):main.variables.elements.eq(t).removeClass("activeSection");if(i>main.windowHeight()?main.variables.fixedMenu.css("left","10px"):main.variables.fixedMenu.css("left","-100px"),i>main.variables.startAnim[4]){var a=i-main.variables.startAnim[4];$(".footLamp .footLamp_wrap").height(a)}})}},contact=function(){var i=$(".telephone");$(window).scroll(function(){var t=$(this).scrollTop();t>popup.windowH()?i.css("left","-103px"):i.css("left","0px")})},popup={windowH:function(){return $(window).height()},blockPos:function(i){$(i).css({paddingTop:$(i).height()-popup.windowH()/2+"px"})},init:function(i,t){$("header").height(popup.windowH()),$(i).on("click",function(){$(this).next().append('<span class="fade_out">&#9587;</span>').fadeIn("slow"),$(".fade_out").click(function(){$(t).fadeOut("slow"),$(this).detach()})})}};